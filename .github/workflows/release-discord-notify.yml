name: release-discord-notify

on:
  release:
    types: [published]

jobs:
  notify:
    runs-on: ubuntu-22.04
    steps:
    - name: Notify Discord
      uses: fjogeleit/http-request-action@v1
      with:
        url: ${{ secrets.discord_webhook }}
        method: 'POST'
        customHeaders: '{"Content-Type": "application/json"}'
        data: '{"content": "
        ðŸš¨ A new version of @${{github.repository}} ${{ github.event.tagName }} has been released! ðŸŽ‰

        ðŸ‘‰ Changelog: https://github.com/${{ github.repository }/releases/tag/${{ github.event.tagName }}
        ðŸ‘‰ Documentation: https://
        ðŸ‘‰ Official repo: https://github.com/${{ github.repository }

        "}'